CREATE TABLE public.routes (
  id SERIAL PRIMARY KEY,
  route_id TEXT NOT NULL,               -- unique route id
  name TEXT NULL,
  line_string GEOMETRY(LineString,4326) NOT NULL, -- main geometry
  optimize_order JSONB NULL,            -- optimized waypoint order
  users JSONB NULL,                     -- assigned users
  driver_name TEXT NULL,                -- driver name
  description TEXT NULL,                -- description
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);


save routeကိုနှိပ်တာနဲ့  databse ထဲက columnအတိုင်း route card.jsx routecard.jsxမှာ format ချ‌ပးထားပြီးပြီ မှာသိမ်းပေးပါ ပြီးတော့ route card က dynamic ဖြစ်ပါစေ ပြီးတော့ route cardကိုနှိပ်တာနဲ့ edit လုပ်လို့ရအောင် လုပ်ပေးပါ sample data is 

'R001',
  'Yangon Test Route',
  ST_SetSRID(
    ST_GeomFromGeoJSON('{
      "type": "LineString",
      "coordinates": [
        [96.12823,16.815800000000003],
        [96.12754000000001,16.81625],
        [96.12723000000001,16.81644],
        [96.1269,16.81669],
        [96.12677000000001,16.8168],
        [96.12667,16.816950000000002],
        [96.12653,16.81709],
        [96.1264,16.81718],
        [96.12622,16.81724],
        [96.12553000000001,16.81772],
        [96.12522000000001,16.81794],
        [96.12421,16.81865],
        [96.12412,16.81869],
        [96.12400000000001,16.81875],
        [96.12352000000001,16.819090000000003],
        [96.12315000000001,16.81935],
        [96.12228,16.819940000000003],
        [96.12198000000001,16.8201],
        [96.12191000000001,16.819950000000002],
        [96.12187,16.81971],
        [96.12183,16.819080000000003],
        [96.12185000000001,16.81859],
        [96.12182000000001,16.81776],
        [96.12183,16.81624],
        [96.12182000000001,16.81529],
        [96.12183,16.814030000000002],
        [96.12184,16.81267],
        [96.12184,16.8122],
        [96.12184,16.808290000000003],
        [96.12186000000001,16.807940000000002],
        [96.12195000000001,16.80734],
        [96.12208000000001,16.80664],
        [96.12211,16.806510000000003],
        [96.12214,16.80611],
        [96.12216000000001,16.805030000000002],
        [96.12216000000001,16.80386],
        [96.12215,16.80284],
        [96.12215,16.80205],
        [96.12225000000001,16.80205],
        [96.12225000000001,16.802400000000002],
        [96.12224,16.80312],
        [96.12224,16.80387],
        [96.12391000000001,16.80385],
        [96.12468000000001,16.80383],
        [96.12468000000001,16.803900000000002],
        [96.1239,16.80394],
        [96.12216000000001,16.80395],
        [96.12215,16.80365],
        [96.12215,16.8013],
        [96.12213000000001,16.799960000000002],
        [96.12213000000001,16.79924],
        [96.12214,16.79839],
        [96.12215,16.79815],
        [96.12218000000001,16.797990000000002],
        [96.12212000000001,16.797590000000003],
        [96.12211,16.797240000000002],
        [96.12209000000001,16.796560000000003],
        [96.12201,16.7954],
        [96.12196,16.793470000000003],
        [96.12185000000001,16.79258],
        [96.12184,16.792460000000002],
        [96.12183,16.79231],
        [96.12186000000001,16.79158],
        [96.12184,16.79078],
        [96.12182000000001,16.79033],
        [96.12182000000001,16.78947],
        [96.12184,16.789250000000003],
        [96.12191000000001,16.78901],
        [96.12195000000001,16.788890000000002],
        [96.12207000000001,16.78863],
        [96.12243000000001,16.78811],
        [96.1226,16.787850000000002],
        [96.12284000000001,16.78745],
        [96.12311000000001,16.78679],
        [96.12322,16.78656],
        [96.12332,16.78639],
        [96.12395000000001,16.785590000000003],
        [96.12512000000001,16.78413],
        [96.12588000000001,16.78319],
        [96.12613,16.78292],
        [96.12626,16.782790000000002],
        [96.12643000000001,16.78266],
        [96.12663,16.78255],
        [96.12715000000001,16.782310000000003],
        [96.12794000000001,16.78198],
        [96.12931,16.78141],
        [96.13001000000001,16.781090000000003],
        [96.13101,16.78059],
        [96.13196,16.78018],
        [96.13402,16.779300000000003],
        [96.13433,16.77915],
        [96.13466000000001,16.778930000000003],
        [96.13508,16.778570000000002],
        [96.13719,16.77655],
        [96.13794000000001,16.77581],
        [96.13877000000001,16.77504],
        [96.13897000000001,16.77492],
        [96.13926000000001,16.774810000000002],
        [96.13941000000001,16.77478],
        [96.13976000000001,16.77474],
        [96.14072,16.774720000000002],
        [96.14145,16.77467],
        [96.14157,16.77465],
        [96.14182000000001,16.77456],
        [96.14305,16.77393],
        [96.14478000000001,16.773110000000003],
        [96.14619,16.772380000000002],
        [96.14655,16.77224],
        [96.14687,16.77215],
        [96.14719000000001,16.772090000000002],
        [96.14768000000001,16.77204],
        [96.14823000000001,16.772000000000002],
        [96.14998000000001,16.771900000000002],
        [96.15086000000001,16.77186],
        [96.15115,16.77182],
        [96.15150000000001,16.771790000000003],
        [96.15202000000001,16.77174],
        [96.15270000000001,16.771610000000003],
        [96.15469,16.77119],
        [96.15566000000001,16.77103],
        [96.15617,16.770940000000003],
        [96.15690000000001,16.77075],
        [96.15724,16.77063],
        [96.15794000000001,16.77035],
        [96.15862000000001,16.77006],
        [96.16033,16.769360000000002],
        [96.16085000000001,16.769170000000003],
        [96.16113000000001,16.769090000000002],
        [96.16151,16.76903],
        [96.16418,16.768880000000003],
        [96.16536,16.76886],
        [96.16716000000001,16.76884],
        [96.16743000000001,16.76886],
        [96.16776,16.76891],
        [96.16859000000001,16.76913],
        [96.16912,16.76924],
        [96.16975000000001,16.76929],
        [96.17132000000001,16.769250000000003],
        [96.17241000000001,16.76922],
        [96.17325000000001,16.769180000000002],
        [96.17454000000001,16.76913],
        [96.17514000000001,16.76911],
        [96.17514000000001,16.7693],
        [96.17519000000001,16.770380000000003],
        [96.17525,16.771230000000003],
        [96.17624,16.77119],
        [96.17647000000001,16.77118]
      ]
    }'),4326),
  '[1,2,3,4]'::jsonb,             -- optimize order sample
  '["user1","user2"]'::jsonb,     -- users sample
  'Ko Aung',                      -- driver name
  'This is a test route for Yangon area'
);

and fetch data from control.tsx / waypointMultiselect.jsx/ draggablewaypoint.tsx
waypoint marker.tsx/ waypointoverlay.tsx/ routecard.jsx/userdirection.ts/ useMapstate.ts/index.jsx(create-route)

Save route button ကိုနှိပ်တာနဲ့ DB ထဲကို insert.

DB ထဲက routes table column အတိုင်း data fetch.

RouteCard.jsx မှာ format ပြပြီး dynamic card အနေနဲ့ ပြ.

Card ကိုနှိပ်လိုက်ရင် edit modal / page ထပ်ဖွင့်ပြီး update လုပ်လို့ရ.

Map UI files (control.tsx, waypointMultiselect.jsx, draggablewaypoint.tsx, waypointmarker.tsx, waypointoverlay.tsx, userdirection.ts, useMapstate.ts, index.jsx) ကနေ data fetch & display.

creatrouteformကရေးစရာမလိုဘူး processက origin waypoints destinationထည့်ရင် svae routeနှိပ်ရင် line string ရလာတယ်မလား ကျန်တာတွေက default value ပြပေးထား sample database query ထဲက 